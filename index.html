<!DOCTYPE html>
<html lang="en">



<head>
  <!-- Site meta data -->
    
    <meta charset="UTF-8">
    
    <!-- Will scale to device  -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Theme colour DARK GREEN (Android focused) --> 
    <meta name="theme-color" content="#103012">
    
    <!--defines app name, icons, and behavior when installed -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="styles.css">

    <!-- Title shown in browser -->
    <title>Oak Logging App</title>

    <!-- Icon def needs to match manifest -->
    <link rel="icon" href="graphics/icons/icon-192.png" sizes="192x192">
    <link rel="icon" href="graphics/icons/icon-512.png" sizes="512x512">
    <link rel="icon" href="graphics/icons/favicon.ico" type="image/x-icon">
</head>





<body>
  <!-- Site Content -->
    <header>
        <h1>Oak Logging App</h1>
        <p>Capture and record data about oak trees. More "blurb" here?</p>
    </header>
 
 <!-- Navigation buttons -->
  <div id="buttonsContainer">
    <button onclick="showPage('logOak')">Log an oak</button>
    <button onclick="showPage('reportError')">Report an Error</button>
    <button onclick="showPage('faq')">FAQ</button>
    <button onclick="showPage('contactUs')">Contact us</button>
  </div>

  <!-- Pages (Content Views) -->
    <div id="pageContent">
      <div id="logOak" class="page">
        <!-- Content for "Log an oak" -->
      </div>
      <div id="reportError" class="page">
        <!-- Content for "Report an Error" -->
      </div>
      <div id="faq" class="page">
        <!-- Content for "FAQ" -->
      </div>
      <div id="contactUs" class="page">
        <!-- Content for "Contact Us" -->
      </div>
    </div>

    <script src="app.js"></script>



    
    <!-- Footer Section -->
    <footer>
        <img src="graphics/footer.png" alt="Footer Image">
    </footer>


    <!-- If javascript is not available on their device or turned off -->
    <noscript>
      <div class="warning">
        ⚠️ This site requires JavaScript to log trees. Please enable JavaScript in your browser settings or use a device that supports it.
      </div>
    </noscript>


    <!-- If functionality not available on their devices -->
    <script>
      
      // Check for Service Worker support app will not work without this functionality
      
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('✅ Service Worker registered:', reg.scope))
          .catch(err => console.error('❌ Service Worker registration failed:', err));
      } else {
        alert('⚠️ This site requires service-workers to log trees. Unfortunately, your device does not support this. Offline functionality will not work. Please try a different device. ');
      }

      // Check for Geolocation support cannot get long lat without
      if (!('geolocation' in navigator)) {
        alert('⚠️ This site requires location services to log trees. Unfortunately, your device does not support this or you have withheld access. Please allow access or try a different device.');
      }

      // Check for Local Storage support cannot save to users device without
      if (!('localStorage' in window)) {
        alert('⚠️ This site requires access to your local storage to log trees. Either it is not supported or you have rejected access. Please allow access or try a different device.');
      }

      // Change behaviour based on app mode or webmode - currently does nothing but log.
      if (window.matchMedia('(display-mode: standalone)').matches) {
        console.log('✅ App is running in standalone/PWA mode');
      } else {
        console.log('ℹ️ App is running in browser/tab mode');
      }

    </script>

    <script>
        // Optional: Add logic for prompting the user to install the PWA here
    </script>

</body>
</html>